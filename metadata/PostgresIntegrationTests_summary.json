{
  "file_name": "PostgresIntegrationTests.java",
  "file_path": "src/test/java/org/springframework/samples/petclinic/PostgresIntegrationTests.java",
  "file_summary": "This Java class, `PostgresIntegrationTests`, is an integration test suite for the Spring PetClinic application, specifically designed to verify its functionality with a PostgreSQL database. It utilizes Spring Boot's `@SpringBootTest` to launch the application on a random port and the 'postgres' active profile. The class configures Spring Docker Compose to manage a PostgreSQL container for the tests, ensuring a clean and isolated environment. It includes a `@BeforeAll` check to ensure Docker is available before running tests. The tests themselves cover data access via the `VetRepository` (`testFindAll()`, which also implicitly tests caching) and web endpoint interaction via `RestTemplate` (`testOwnerDetails()` for `/owners/1`). Additionally, it provides a `main` method to run the `PetClinicApplication` directly with the PostgreSQL profile and integrates a nested `PropertiesLogger` class, an `ApplicationListener` that logs all active environment properties during application startup, which is useful for debugging property resolution in complex environments.",
  "attributes": [
    {
      "name": "port",
      "type": "int",
      "membership": "instance public"
    },
    {
      "name": "vets",
      "type": "VetRepository",
      "membership": "instance private"
    },
    {
      "name": "builder",
      "type": "RestTemplateBuilder",
      "membership": "instance private"
    },
    {
      "name": "PropertiesLogger.log",
      "type": "Log",
      "membership": "static private"
    },
    {
      "name": "PropertiesLogger.environment",
      "type": "ConfigurableEnvironment",
      "membership": "instance private"
    },
    {
      "name": "PropertiesLogger.isFirstRun",
      "type": "boolean",
      "membership": "instance private"
    }
  ],
  "functions": [
    {
      "name": "available",
      "return_type": "void",
      "parameters": []
    },
    {
      "name": "main",
      "return_type": "void",
      "parameters": [
        "String[] args"
      ]
    },
    {
      "name": "testFindAll",
      "return_type": "void",
      "parameters": []
    },
    {
      "name": "testOwnerDetails",
      "return_type": "void",
      "parameters": []
    },
    {
      "name": "PropertiesLogger.onApplicationEvent",
      "return_type": "void",
      "parameters": [
        "ApplicationPreparedEvent event"
      ]
    },
    {
      "name": "PropertiesLogger.printProperties",
      "return_type": "void",
      "parameters": []
    },
    {
      "name": "PropertiesLogger.findPropertiesPropertySources",
      "return_type": "List<EnumerablePropertySource<?>>",
      "parameters": []
    }
  ]
}