{
  "file_name": "CrashControllerIntegrationTests.java",
  "file_path": "org/springframework/samples/petclinic/system/CrashControllerIntegrationTests.java",
  "file_summary": "This file contains an integration test suite for the `CrashController` within the Spring PetClinic application. The primary purpose of these tests is to verify how the application handles exceptions thrown by a controller, specifically focusing on the `/oups` endpoint. It uses Spring Boot's `@SpringBootTest` to run the tests against a random port, excluding database-related auto-configurations to isolate the error handling logic.\n\nThe `testTriggerExceptionJson` method asserts that when the `/oups` endpoint is accessed, a `500 Internal Server Error` is returned with a JSON payload containing specific error details like timestamp, status, error message, and path. This confirms the API's error response structure.\n\nThe `testTriggerExceptionHtml` method, on the other hand, verifies the HTML error page behavior. It checks if requesting the `/oups` endpoint with an `Accept: text/html` header also results in a `500 Internal Server Error`, but with a custom HTML response that includes a meaningful error message, rather than Spring Boot's default 'Whitelabel Error Page'. These tests collectively ensure robust and user-friendly error handling for both API and web-based interactions.",
  "attributes": [
    {
      "name": "port",
      "data_type": "int",
      "membership_type": "instance"
    },
    {
      "name": "rest",
      "data_type": "TestRestTemplate",
      "membership_type": "instance"
    }
  ],
  "functions": [
    {
      "name": "testTriggerExceptionJson",
      "return_type": "void",
      "parameters": []
    },
    {
      "name": "testTriggerExceptionHtml",
      "return_type": "void",
      "parameters": []
    }
  ]
}