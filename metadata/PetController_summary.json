{
  "file_name": "PetController.java",
  "file_path": "org/springframework/samples/petclinic/owner/PetController.java",
  "file_summary": "This Java class, `PetController`, is a Spring MVC `@Controller` responsible for managing pet-related operations within the PetClinic application, specifically for existing owners. It handles the creation and updating of pet information. The controller uses `@ModelAttribute` methods to pre-populate form data, such as a list of pet types, and to retrieve `Owner` and `Pet` objects based on URL path variables (`ownerId`, `petId`). It includes `@InitBinder` methods for customizing data binding, disallowing the 'id' field for owners, and registering a `PetValidator` for pet objects. The class defines GET and POST mappings for displaying and processing pet creation and update forms. It performs server-side validation, including checking for duplicate pet names per owner and ensuring birth dates are not in the future. Upon successful form submission, it saves the changes via `OwnerRepository` and redirects the user, providing feedback through flash attributes.",
  "attributes": [
    {
      "name": "VIEWS_PETS_CREATE_OR_UPDATE_FORM",
      "data_type": "String",
      "membership_type": "private static final"
    },
    {
      "name": "owners",
      "data_type": "OwnerRepository",
      "membership_type": "private final"
    },
    {
      "name": "types",
      "data_type": "PetTypeRepository",
      "membership_type": "private final"
    }
  ],
  "functions": [
    {
      "name": "PetController",
      "parameters": "OwnerRepository owners, PetTypeRepository types",
      "type": "constructor"
    },
    {
      "name": "populatePetTypes",
      "parameters": "",
      "type": "public Collection<PetType>"
    },
    {
      "name": "findOwner",
      "parameters": "int ownerId",
      "type": "public Owner"
    },
    {
      "name": "findPet",
      "parameters": "int ownerId, Integer petId",
      "type": "public Pet"
    },
    {
      "name": "initOwnerBinder",
      "parameters": "WebDataBinder dataBinder",
      "type": "public void"
    },
    {
      "name": "initPetBinder",
      "parameters": "WebDataBinder dataBinder",
      "type": "public void"
    },
    {
      "name": "initCreationForm",
      "parameters": "Owner owner, ModelMap model",
      "type": "public String"
    },
    {
      "name": "processCreationForm",
      "parameters": "Owner owner, @Valid Pet pet, BindingResult result, RedirectAttributes redirectAttributes",
      "type": "public String"
    },
    {
      "name": "initUpdateForm",
      "parameters": "",
      "type": "public String"
    },
    {
      "name": "processUpdateForm",
      "parameters": "Owner owner, @Valid Pet pet, BindingResult result, RedirectAttributes redirectAttributes",
      "type": "public String"
    },
    {
      "name": "updatePetDetails",
      "parameters": "Owner owner, Pet pet",
      "type": "private void"
    }
  ]
}