{
  "file_name": "mvnw.cmd",
  "file_path": "./mvnw.cmd",
  "file_summary": "This file is a hybrid batch and PowerShell script designed as the Apache Maven Wrapper for Windows environments. Its primary purpose is to ensure that the correct Apache Maven (or Maven Daemon 'mvnd') distribution is available and used for a project, automatically downloading and installing it if necessary. The script first runs a batch portion to execute the PowerShell script. The PowerShell section reads configuration from `.mvn/wrapper/maven-wrapper.properties` to determine the `distributionUrl` and an optional `distributionSha256Sum`. It calculates the local installation path for Maven, downloads the distribution if it's not already present, validates its integrity using SHA-256 (if configured), unzips it, and places it in the `~/.m2/wrapper/dists` directory (or a custom `MAVEN_USER_HOME` location). It supports custom repository URLs via `MVNW_REPOURL` and authentication via `MVNW_USERNAME`/`MVNW_PASSWORD`. Finally, it outputs the path to the Maven executable, which the batch script then uses to run Maven with the provided arguments. The script includes robust error handling and cleanup for temporary files.",
  "attributes": [
    {
      "name": "MVNW_REPOURL",
      "type": "String",
      "membership_type": "Optional Environment Variable"
    },
    {
      "name": "MVNW_USERNAME",
      "type": "String",
      "membership_type": "Optional Environment Variable"
    },
    {
      "name": "MVNW_PASSWORD",
      "type": "String",
      "membership_type": "Optional Environment Variable"
    },
    {
      "name": "MVNW_VERBOSE",
      "type": "String",
      "membership_type": "Optional Environment Variable (boolean 'true')"
    },
    {
      "name": "MAVEN_USER_HOME",
      "type": "String",
      "membership_type": "Optional Environment Variable"
    },
    {
      "name": "distributionUrl",
      "type": "String",
      "membership_type": "Derived from .mvn/wrapper/maven-wrapper.properties"
    },
    {
      "name": "distributionSha256Sum",
      "type": "String",
      "membership_type": "Optional, Derived from .mvn/wrapper/maven-wrapper.properties"
    },
    {
      "name": "MAVEN_HOME",
      "type": "String",
      "membership_type": "Calculated local installation path"
    },
    {
      "name": "MVN_CMD",
      "type": "String",
      "membership_type": "Final command string to execute Maven/mvnd"
    },
    {
      "name": "USE_MVND",
      "type": "Boolean",
      "membership_type": "Internal script variable, indicates if mvnd is being used"
    },
    {
      "name": "TMP_DOWNLOAD_DIR",
      "type": "String",
      "membership_type": "Temporary directory for download and extraction"
    }
  ],
  "functions": [
    "Initializes script variables and manages PowerShell module paths.",
    "Reads configuration properties (distributionUrl, distributionSha256Sum) from '.mvn/wrapper/maven-wrapper.properties'.",
    "Determines the type of distribution (Maven or MVND) based on the distribution URL.",
    "Calculates the target local installation directory (MAVEN_HOME) for the distribution.",
    "Checks for the existence of the Maven/MVND distribution in the calculated MAVEN_HOME.",
    "Conditionally downloads the distribution if not found locally, supporting custom repository URLs and credentials.",
    "Validates the SHA-256 checksum of the downloaded distribution against the configured value (if provided).",
    "Extracts the downloaded archive to a temporary location.",
    "Moves the extracted distribution to its final MAVEN_HOME location.",
    "Cleans up temporary files and directories created during the download and extraction process.",
    "Outputs the final command string (MVN_CMD) required to execute Maven or mvnd."
  ],
  "dependent_class_list": []
}